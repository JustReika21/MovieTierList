{% extends 'base.html' %}
{% load static %}
{% block content %}
    <form
            id="createForm"
            action="{% url 'api:item-detail' item.id %}"
            data-redirect-url="{% url 'user_profile:user-profile' request.user.username %}"
    >
        {% csrf_token %}

        <label for="id_title">Title:</label>
        <input type="text" name="title" id="id_title" maxlength="127" value="{{ item.title }}" required>

        <label for="id_description">Description:</label>
        <textarea name="description" id="id_description">{{ item.description }}</textarea>

        <label for="id_rating">Rating:</label>
        <select name="rating" id="id_rating" required>
            {% for rating in ratings %}

                    <option
                            value="{{ rating }}"
                            {% if rating == item.rating %}
                                selected="selected"
                            {% endif %}
                    >{{ rating }}</option>

            {% endfor %}
        </select>

        <label for="id_cover">Cover Image:</label>
        <input type="file" name="cover" id="id_cover">

        <label for="id_tags">Tags:</label>
        <select name="tags" id="id_tags" multiple>
            {% for tag in tags %}
                <option
                        value="{{ tag.id }}"
                        {% if tag.id in selected_tag_id %}
                        	    selected="selected"
                        {% endif %}
                >{{ tag.name }}</option>
            {% endfor %}
        </select>

        <input type="hidden" name="user" id="user" value="{{ request.user.id }}">

        <button type="submit">Save</button>
    </form>

    <script src="{% static 'js/items/update_item.js' %}"></script>
{% endblock %}
